# War Thunder X 郊狼 V3 控制程序

## 项目概述
本项目是使用python语言并采用uv作为管理工具的的一个与"郊狼3.0"设备交互的控制程序，通过读取War Thunder游戏数据(飞机过载或陆战载具状态)，计算强度值并控制设备输出。

## 功能特点
- 支持两种模式：飞机模式和陆战载具模式
- 实时从游戏本地服务器(8111端口)获取数据
- 可配置的参数计算系统
- 图形化配置界面
- 自动保存和加载配置

## 使用说明
因为是使用蓝牙对郊狼进行连接的所以请确保你的电脑可以连接蓝牙
### 运行程序
1. 确保已安装Python 3.x
2. 安装依赖：
3. 运行主程序：
   - 双击`点我启动.bat`
   - 会弹出俩个窗口一个是CMD命令行一个是可视化窗口都不要关闭
### 目前的一些问题说明
-也许我的问题Hu-Tao-0715大佬的项目在载具被摧毁时无法生效对应的强度影响所以我就没修复这个问题QWQ
-目前在飞机时仅过载会影响成语组和载具被摧毁并不会增加强度


### 配置参数
通过图形界面可以配置以下参数：

#### 基础参数
- **基础强度(base_s)**: 基础输出强度值
- **飞行载具模式(is_aircraft)**: 切换飞机/陆战模式，目前没做通用所以只能手动切换陆空模式。

#### 飞机模式参数
- **飞机过载影响系数(fjgz)**: 过载对强度的影响系数（公式：AB通道强度=基础强度+过载数x过载影响系数）
- **飞机过载触发阈值(fjgz_threshold)**: 触发强度变化的过载阈值（过载超过阈值才会增加AB通道强度）

#### 陆战模式参数
- **成员死亡数乘区 通道A(cd_a)**: 乘员死亡对通道A的影响系数
- **成员死亡数乘区 通道B(cd_b)**: 乘员死亡对通道B的影响系数
- **载具被摧毁强度 通道A(vd_a)**: 载具摧毁对通道A的影响系数
- **载具被摧毁强度 通道B(vd_b)**: 载具摧毁对通道B的影响系数

## 文件说明
- `c2dglab.py`: 主程序，负责设备连接和强度控制
- `data_fetcher.py`: 数据获取模块，从游戏读取数据
- `global_vars.py`: 全局变量和配置管理
- `config.pyw`: 图形配置界面
- `config.json`: 配置文件
- `点我启动.bat`: 快捷启动脚本

## 注意事项
1. 使用前请确保"郊狼3.0"设备已正确连接
2. 修改配置后会自动保存

## 开发说明
- 项目依赖: 见`pyproject.toml`
- 开发环境: Python 3.x

### 版权声明
本项目是基于以下开源项目进行修改的代码：
- [DGLAB-WT] - [Hu-Tao-0715] (https://github.com/Hu-Tao-0715/DGLAB-WT)
